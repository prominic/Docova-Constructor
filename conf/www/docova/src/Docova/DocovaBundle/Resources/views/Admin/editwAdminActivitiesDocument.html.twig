<!DOCTYPE HTML>
<html>
<head>
<title>{% trans %}Activites{% endtrans %}</title>
{% include 'DocovaBundle:Admin:sfWebAdminCommonScriptHeader.html.twig'%}
{% if document is defined %} 
	{% set path_info = path('docova_admin_editdocument', { 'view_name' : view_name, 'doc_id' : document.getId }) %} 
{% else %}
	{% set path_info = path('docova_admin_activity') %} 
{% endif %} 
{% include 'DocovaBundle:Admin:sfWebAdminCommonFields.html.twig' with {
	'document' : document is defined ? document : '',
	'view_name' : view_name, 
	'view_title' : view_title,
	'mode' : mode, 
	'path_info' : path_info 
} %}
<script language="JavaScript" type="text/javascript">
// this is required
function validateDocumentFields()
{
	return true;
}
</script>

</head>
<body scroll="no">
	<ul class="ui-widget-header actionBar hidetoload">
		<li id="closeBtn">{% trans %}Close{% endtrans %}</li>
		<li id="saveAndCloseBtn">{% trans %}Save and Close{% endtrans %}</li>
	</ul>
	<form method="post" action="{{ path_info }}" class="hidetoload" autocomplete="off">
		<div id="divFormContainer">
			<table class="elmContainer" cellspacing="0">
				<tr>
					<td colspan="2" class="firstRw"><h3 class="headings1">{% trans %}Activity Definition{% endtrans %}</h3></td>
				</tr>
				<tr>
					<td class="firstRw">{% trans %}Activity Action{% endtrans %}:</td>
					<td class="firstRw">
						<input type="text" name="ActivityAction" value="{{ document is defined  ? document.getActivityAction : '' }}" class="text ui-widget-content ui-corner-all" />
					</td>
				</tr>
				<tr valign="top">
					<td>{% trans %}Assignee Obligation{% endtrans %}:</td>
					<td>
			        	<select name="ActivityObligation" class="text ui-widget-content ui-corner-all">
			        		<option {{ document is not defined or document.getActivityObligation == 0 ? 'selected' : '' }} value="0">{% trans %}No Action Required{% endtrans %}</option>
			        		<option {{ document is defined and document.getActivityObligation == 1 ? 'selected' : '' }} value="1">{% trans %}Acknowledgement Required{% endtrans %}</option>
			        		<option {{ document is defined and document.getActivityObligation == 2 ? 'selected' : '' }} value="2">{% trans %}Response Required{% endtrans %}</option>
			        	</select>
						<span class="elNote">{% trans %}The Activity can be completed without input from the Assignee.{% endtrans %}</span>
			        </td>
				</tr>
				<tr>
					<td>{% trans %}Email Notification{% endtrans %}:</td>
			        <td>
			      		<label><input type="radio" name="ActivitySendMessage" {{ document is not defined or not document.getActivitySendMessage ? 'checked' : '' }} value="0"> {% trans %}No{% endtrans %}</label>
			      		<label><input type="radio" name="ActivitySendMessage" {{ document is defined and document.getActivitySendMessage ? 'checked' : '' }} value="1"> {% trans %}Yes{% endtrans %}</label>
						<span class="elNote">{% trans %}Email notification is in addition to an icon that will alert assignees they have pending activities when they open the document. Pending activities will also be displayed in the Activities widget.{% endtrans %}</span>
					</td>
				</tr>
				<tr>
					<td>{% trans %}Default Subject{% endtrans %}:</td>
			        <td><input name="ActivitySubject" value="{{ document is defined ? document.getActivitySubject : '' }}" type="text" class="text ui-widget-content ui-corner-all"/></td>
				</tr>
				<tr>
					<td>{% trans %}Default message/instruction{% endtrans %}:</td>
			        <td><input type="text" name="ActivityInstruction" class="text ui-widget-content ui-corner-all" value="{{ document is defined  ? document.getActivityInstruction : ''}}"/></td>
				</tr>
				<tr>
					<td>{% trans %}NOTE{% endtrans %}:</td>
			        <td><span class="elNote">{% trans %}A reserved field called ActivityRecipients is available via a custom subform and can be used to set the default Recipient list in a new Activity. Set the field to a comma delimited list of User Names and/or Groups by way of a custom onload script.{% endtrans %}</span></td>
				</tr>
			</table>
		</div>
	</form>
</body>
</html>