<!DOCTYPE HTML>
<html>
<head>
<title>{% trans %}File Template{% endtrans %}</title>
<!--  common javascript & CSS header -->
{% include 'DocovaBundle:Admin:sfWebAdminCommonScriptHeader.html.twig'%}
{% if document is defined %} 
	{% set path_info = path('docova_admin_editdocument', { 'view_name' : view_name, 'doc_id' : document.getId }) %} 
{% else %}
	{% set path_info = path('docova_admin_fileResource') %} 
{% endif %} 
{% include 'DocovaBundle:Admin:sfWebAdminCommonFields.html.twig' with {
	'document' : document is defined ? document : '',
	'view_name' : view_name, 
	'view_title' : view_title,
	'mode' : mode, 
	'path_info' : path_info 
} %}

<script language="JavaScript" type="text/javascript">
$(function() {
	$('form').height($(window).height() - 46);
	$( window ).unload(function() {
		return processOnUnload();
	});
});
// this is required for validation
function validateDocumentFields()
{
	return true;
}
</script>
</head>
<body scroll="no">
	<ul class="ui-widget-header actionBar hidetoload">
		<li id="closeBtn">{% trans %}Close{% endtrans %}</li>
		<li id="saveAndCloseBtn">{% trans %}Save and Close{% endtrans %}</li>
	</ul>
	<form method="post" action="{{ path_info }}" enctype="multipart/form-data" class="hidetoload" autocomplete="off">
		<div id="divFormContainer">
			<table class="elmContainer" cellspacing="0">
				<tr>
					<td colspan="2" class="firstRw"><h3 class="headings1">{% trans %}Resource File Settings{% endtrans %}</h3></td>
				</tr>
				<tr>
					<td class="firstRw">{% trans %}Resource file type{% endtrans %}:</td>
					<td class="firstRw">
						<input name="Type"  style="width:250px;"
							value="{% if document is defined %}{{ document.getType }}{% endif %}" 
							/>
					</td>
				</tr>
				<tr>
					<td>{% trans %}Resource name{% endtrans %}:</td>
					<td><input type="text" name="Name" class="text ui-widget-content ui-corner-all" value="{% if document is defined %}{{ document.getName }}{% endif %}"/></td>
				</tr>
				<tr>
					<td>{% trans %}Resource file attachment{% endtrans %}:</td>
					<td>
						<input type="file" class="text ui-widget-content ui-corner-all" name="fileAttachment" id="fileAttachment" />
						{% if document is defined %}
						<span class="elNote">
							<a href="{{ path('docova_admin_fileresource', {file_name:document.getFileName} ) }}" target="_blank">{{ document is defined ? document.getFileName : ''}}</a>
						</span>
						{% endif %}
					</td>
				</tr>
				<tr>
					<td>{% trans %}Resource Version{% endtrans %}:</td>
					<td><input type="text" class="text ui-widget-content ui-corner-all" name="Version" value="{% if document is defined %}{{ document.getVersion }}{% endif %}"/></td>
				</tr>
				{% if document is defined %}
				<tr>
					<td>{% trans %}Template key{% endtrans %}:</td>
					<td>{{ document.getId }}</td>
				</tr>
				{% endif %}
			</table>
		</div>
	</form>
</body>
</html>